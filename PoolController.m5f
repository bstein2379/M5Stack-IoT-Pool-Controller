{"components":[{"id":"_coretwoscreen","createTime":1599680548854,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#FFFFFF","backgroundImage":"","type":"screen"},{"id":"____buttonA","createTime":1599680548855,"name":"ButtonA","buttonIndex":0,"x":35,"y":216,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1599680548855,"name":"ButtonB","buttonIndex":1,"x":125,"y":216,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1599680548855,"name":"ButtonC","buttonIndex":2,"x":215,"y":216,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"E7wO`8QUSW0I3H+V","createTime":1599680564623,"isCoreTwo":true,"name":"line0","x":0,"y":120,"x1":0,"y1":120,"x2":320,"y2":120,"width":50,"color":"#aaaaaa","lineWidth":5,"type":"line","layer":6},{"id":"ssmUlPj6Nfx5Rhbk","createTime":1599680566090,"name":"modeSwitch","x":6,"y":208,"width":70,"height":30,"color":"#FFFFFF","selectedColor":"#4a4b4c","unselectedColor":"#ebe9e9","type":"switch","layer":7},{"id":"fhQ@`x7b1ER*4YkQ","createTime":1599680649171,"isCoreTwo":true,"name":"line1","x":160,"y":30,"x1":160,"y1":30,"x2":160,"y2":200,"width":50,"color":"#aaaaaa","lineWidth":5,"type":"line","layer":8},{"id":"`sUT=J&cF6Te5MCc","createTime":1599680720051,"isCoreTwo":true,"name":"line2","x":0,"y":31,"x1":0,"y1":31,"x2":320,"y2":31,"width":50,"color":"#0288fb","lineWidth":7,"type":"line","layer":9},{"id":"HWws=GZ-s^AqWpoU","createTime":1599680776396,"isCoreTwo":true,"name":"line3","x":0,"y":200,"x1":0,"y1":200,"x2":320,"y2":200,"width":50,"color":"#0288fb","lineWidth":5,"type":"line","layer":12},{"id":"y%Ys*7BDE#huPWYi","createTime":1599680791952,"isCoreTwo":true,"name":"label0","x":6,"y":3,"color":"#0288fb","text":"Pool Controller","font":"FONT_MONT_22","rotation":0,"type":"label","layer":13},{"id":"B5#o4P&+wcf1a!U8","createTime":1599680834076,"isCoreTwo":true,"name":"label1","x":53,"y":50,"color":"#000","text":"Lights","font":"FONT_MONT_14","rotation":0,"type":"label","layer":14},{"id":"99Ey=rZi=ci1*ypX","createTime":1599680847398,"isCoreTwo":true,"name":"label2","x":213,"y":50,"color":"#000","text":"Waterfalls","font":"FONT_MONT_14","rotation":0,"type":"label","layer":15},{"id":"T=b^yGkbLp%4-jLX","createTime":1599680903189,"isCoreTwo":true,"name":"label4","x":83,"y":217,"color":"#000","text":"Mode","font":"FONT_MONT_14","rotation":0,"type":"label","layer":17},{"id":"Tjnhq^s%lHzxjL-u","createTime":1599683031019,"isCoreTwo":true,"name":"label6","x":197,"y":217,"color":"#000","text":"Text","font":"FONT_MONT_14","rotation":0,"type":"label","layer":20},{"id":"zurCvEINArBrt@m#","createTime":1599691157766,"isCoreTwo":true,"name":"label7","x":250,"y":160,"color":"#000","text":"Text","font":"FONT_MONT_20","rotation":0,"type":"label","layer":21},{"id":"-hqAkUx6-utE$AxH","createTime":1599691170516,"isCoreTwo":true,"name":"label10","x":207,"y":135,"color":"#000","text":"Air:","font":"FONT_MONT_20","rotation":0,"type":"label","layer":24},{"id":"Jq`iZ2LI-HqJh@Xn","createTime":1599770536523,"name":"lightSwitch","x":12,"y":70,"width":120,"height":35,"color":"#FFFFFF","selectedColor":"#0288fb","unselectedColor":"#CCCCCC","type":"switch","layer":23},{"id":"4Bkn4$T5&*u3oVXU","createTime":1599770542325,"name":"waterfallSwitch","x":189,"y":70,"width":120,"height":35,"color":"#FFFFFF","selectedColor":"#0288FB","unselectedColor":"#CCCCCC","type":"switch","layer":24},{"id":"A3!%wacO#YCa^qBp","createTime":1599934578251,"isCoreTwo":true,"name":"label3","x":175,"y":160,"color":"#000","text":"Water:","font":"FONT_MONT_20","rotation":0,"type":"label","layer":25},{"id":"M8cdpeZBFDEKZjqF","createTime":1599934595684,"isCoreTwo":true,"name":"label5","x":250,"y":135,"color":"#000","text":"Text","font":"FONT_MONT_20","rotation":0,"type":"label","layer":25},{"id":"2gc9S#Dnq37uxPC*","createTime":1599935753863,"name":"pumpSwitch","x":9,"y":151,"width":120,"height":35,"color":"#FFFFFF","selectedColor":"#0288FB","unselectedColor":"#CCCCCC","type":"switch","layer":29},{"id":"a%QMZECfDgdu8z1X","createTime":1599935779758,"isCoreTwo":true,"name":"label8","x":31,"y":134,"color":"#000","text":"Pool Pump","font":"FONT_MONT_14","rotation":0,"type":"label","layer":25},{"id":"T9d&Dp45p@nxd1y`","createTime":1599942694120,"isCoreTwo":true,"name":"label9","x":210,"y":1,"color":"#000","text":"Text","font":"FONT_MONT_22","rotation":0,"type":"label","layer":22},{"id":"V92T%X$gRwTCCG`3","createTime":1599943210012,"isCoreTwo":true,"name":"line4","x":0,"y":120,"x1":0,"y1":120,"x2":320,"y2":120,"width":50,"color":"#fcfcfc","lineWidth":240,"type":"line","layer":30},{"id":"D7%0p=8VE-oc5Fjy","createTime":1599943255534,"isCoreTwo":true,"name":"label11","x":29,"y":104,"color":"#0288fb","text":"Please Wait...","font":"FONT_MONT_40","rotation":0,"type":"label","layer":33}],"type":"core2","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"N!4D*hU+eloo(QKw.Wu$\">HApoolTemp</variable><variable id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</variable><variable id=\"=,Q^xZINJGLDkDO:Ob|d\">HAairTemp</variable><variable id=\"gtVAf1hPVxnC=EiV[vck\">airTemp</variable><variable id=\"eAJp$%D,H,TIxU3$}1R*\">HApumpState</variable><variable id=\"oY285Ea~$rY9Sp}{6T,D\">pumpState</variable><variable id=\"gYw%an62DrLzU/?:[Ox*\">hour</variable><variable id=\")~_ZM.MOoU?p]:Q}Uyq|\">HAwaterfallState</variable><variable id=\"wwJ`6v]hL6L0!~1*HJh4\">waterfallState</variable><variable id=\"KH0b8wt~Hm@zqsWZ2XRt\">HAlightState</variable><variable id=\"M~g}:rMc?S0{?{yc:F!P\">lightState</variable><variable id=\"SmT48$$|iJY35Ym*Cna(\">attributes</variable><variable id=\"_wc?(cdyNXFry[yH4Mdg\">am_pm</variable><variable id=\"!Lvh(,)RVHg=7`ii!$=1\">minute</variable><variable id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"50\" y=\"-530\"><next><block type=\"wifi_doConnect\" id=\"d)7R#xnRGvpX9#r-$%o{\"><value name=\"apiKey\"><shadow type=\"text\" id=\"R|z@)UU!X93RP{:]~qKF\"><field name=\"TEXT\">ssid</field></shadow></value><value name=\"Msg\"><shadow type=\"text\" id=\"^T9*Ir$mx21[K`3ncQD+\"><field name=\"TEXT\">ssid_password</field></shadow></value><next><block type=\"screen_set_bgcolor\" id=\"[{X2;o]s$cIx:9sT4_UV\"><field name=\"COLOR\">#ffffff</field><next><block type=\"mqtt_set_client\" id=\"lEKXt8k8pG[Y~3-+)`FA\"><value name=\"ID\"><shadow type=\"text\" id=\"~Gf,=Mbj`|0ja)HmjLbF\"><field name=\"TEXT\">m5core2</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"6Zyc:57[Cf*^x+gL1D~-\"><field name=\"TEXT\">HA_IP</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"]d+qRgQMKygI2G31h)iL\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"i$u}]HC(##4c^fJgIsU3\"><field name=\"TEXT\">HA_user</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"5I*#k|}7=#rm400pU[Vy\"><field name=\"TEXT\">HA_password</field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_number\" id=\"A::Bct`3M*J{r4k`dC7l\"><field name=\"NUM\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\".;VC)okr=h3$/_6?Xuf$\"><next><block type=\"line_set_mode\" id=\"9Qa%sB*+-rARNW[!-pJC\"><field name=\"COMPONENT\">line4</field><field name=\"MODE\">False</field><next><block type=\"label_set_mode\" id=\"|Y/QtDG)c?U0`Dxy}0qj\"><field name=\"COMPONENT\">label11</field><field name=\"MODE\">False</field><next><block type=\"rtc_settime\" id=\"~%q_QRXHpL(Gp.IVs7Nr\"><field name=\"host\">us.pool.ntp.org</field><value name=\"timezone\"><shadow type=\"math_number\" id=\"7nMiXa2-ttYlV[;_6N0K\"><field name=\"NUM\">-4</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"vU0ZRD,(]s#6Pl7}4;D$\"><mutation name=\"lightMode\"></mutation><next><block type=\"label_set_text\" id=\"4Dw.1:7nX%wdWev0;EUY\"><field name=\"COMPONENT\">label6</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"Vi@lB)G,.u.:ktUDILcg\"><value name=\"arg0\"><shadow type=\"text\" id=\"kn(Mn.!NKhtpK}s;8E0r\"><field name=\"TEXT\">Battery (V): </field></shadow></value><value name=\"arg1\"><block type=\"text_math_split\" id=\"Z:oO6!`ZEm%6J|:}++L3\"><value name=\"arg0\"><block type=\"power_get_bat_voltage\" id=\"0@9L~`^lbLDU_0+9?Ght\"></block></value><value name=\"arg1\"><shadow type=\"math_number\" id=\"{G)PZqp+Wj}1fGgAPUI6\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"_Yxvw5N,fd4$H7_Iv$q*\"><mutation name=\"getPoolTempFromHA\"></mutation><next><block type=\"timer_delay\" id=\"Y:,=+zg[*U+?,igzUK7y\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"K*XxoY0N4D)ymT]cGNj$\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"gOyQf-S+Y=~=!}7@Gvjw\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"0SV(.{~cNXZ^2`_d_)7j\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"P=bNyv;aKtPJqaY@^XbO\"><field name=\"VAR\" id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</field></block></value><value name=\"B\"><block type=\"text\" id=\"ex-Tl7F3m`n]tlls)ir}\"><field name=\"TEXT\">unknown</field></block></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"]yjyD]:]PgF0??`|od^7\"><field name=\"COMPONENT\">label7</field><value name=\"TEXT\"><shadow type=\"text\" id=\".O=WHK9{$sm|p34hZvEM\"><field name=\"TEXT\">off</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"xr`0PK[1^!kM1f9RDa`o\"><field name=\"COMPONENT\">label7</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"dx|V#wl/}g.%[:ku).x}\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\">TBD</field></shadow><block type=\"variables_get\" id=\"5tZ~8k1l/=DX$O8q:D64\"><field name=\"VAR\" id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</field></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"kij/U6NCNQ^Mc-eK[wA9\"><field name=\"VAR\" id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</field></block></value></block></value></block></statement><next><block type=\"procedures_callnoreturn\" id=\",tvGy.{b7O,qmFKJQh)`\"><mutation name=\"getAirTempFromHA\"></mutation><next><block type=\"timer_delay\" id=\"CWFz`f`J.p(R-8kP1Y2c\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"fYmR|(`3gNf=E.?wCMqS\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"H.ADqOrOXC32oBH;@md[\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"u=@+t0fTI;J?ksH5bqu4\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\">TBD</field></shadow><block type=\"variables_get\" id=\"OOV{MR!GvPq2aH7m`Qvu\"><field name=\"VAR\" id=\"gtVAf1hPVxnC=EiV[vck\">airTemp</field></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"SaXXh}*bh4kIqq?RC._6\"><field name=\"VAR\" id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"noGZYSYm-{l.=6K)muRX\"><mutation name=\"getPumpStateFromHA\"></mutation><next><block type=\"timer_delay\" id=\"O-s2bQWcp+RbGeQS.e2t\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"rF?d{_yeA/8.z?vR5tpV\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"PKcCEJ86B,K/7:TcaPh2\"><mutation name=\"getLightStateFromHA\"></mutation><next><block type=\"timer_delay\" id=\"(AC_=(q+xKLb1f/fy7Rl\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"q~2VLWz=iyb$B0cH|NKa\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"khEBbgpmj.%-Awv5KMWF\"><mutation name=\"getWaterfallStateFromHA\"></mutation><next><block type=\"timer_delay\" id=\"PSxS63]KTFUz?/g).|{;\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"=ni;#?3yOuXM.XZwNT{o\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"ai9+|;7-u:UA|SK*79z6\"><mutation name=\"displayTime\"></mutation><next><block type=\"label_set_mode\" id=\"[/Q$s`oLP.T}`sGoZj=O\"><field name=\"COMPONENT\">label11</field><field name=\"MODE\">True</field><next><block type=\"line_set_mode\" id=\"zmlEz[V(.~I9V^S?iO[.\"><field name=\"COMPONENT\">line4</field><field name=\"MODE\">True</field><next><block type=\"timer_setStart\" id=\"qf|d+Xr+Mbj,hOGKEl:z\"><field name=\"start_name\">updateDisplay</field><field name=\"mode\">0x00</field><value name=\"period\"><shadow type=\"math_number\" id=\"s8aQN7k#_g:!Y8*bsGeB\"><field name=\"NUM\">60000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"L+#}P-aGL)V.~1(zonvG\" x=\"890\" y=\"-530\"><field name=\"NAME\">lightMode</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function for setting light mode</comment><statement name=\"STACK\"><block type=\"label_set_text\" id=\"B[ypG},5T_50n5T{h_wF\"><field name=\"COMPONENT\">label4</field><value name=\"TEXT\"><shadow type=\"text\" id=\"Kp^Hdpsqa_/m7E9i4j/[\"><field name=\"TEXT\">Light Mode</field></shadow></value><next><block type=\"line_set_color\" id=\"CJpBaLt)IQUh8DnF?uVc\"><field name=\"COMPONENT\">line0</field><field name=\"COLOR\">#cccccc</field><next><block type=\"line_set_color\" id=\"!k!m_K6n;Y#tF,%|wua#\"><field name=\"COMPONENT\">line1</field><field name=\"COLOR\">#cccccc</field><next><block type=\"screen_set_bgcolor\" id=\"VW0^)|4!20O8R)q}=?)c\"><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"6~C%x@R^4^_5KKiK}!)0\"><field name=\"COMPONENT\">label1</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"}:=iO1C@(r,MV%9^I.FL\"><field name=\"COMPONENT\">label2</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"UCc|eFr4w6E5nTrF3a7q\"><field name=\"COMPONENT\">label4</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"|5|(y#2uy7M.m0?(!$Fp\"><field name=\"COMPONENT\">label6</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"m+1}1vqewxA(|OW$~o|S\"><field name=\"COMPONENT\">label7</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"eoVFC?~4ED/0|9jbjo0q\"><field name=\"COMPONENT\">label10</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"X/Ig_pxp0+G^nbuX=0X4\"><field name=\"COMPONENT\">label3</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"4r@gE]^g{,W+damZ0je[\"><field name=\"COMPONENT\">label5</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"l=%7ecy6Z2Y=g$)iTsW0\"><field name=\"COMPONENT\">label8</field><field name=\"COLOR\">#000000</field><next><block type=\"label_set_color\" id=\"x/14w5JAx?E$]SKM5V|E\"><field name=\"COMPONENT\">label9</field><field name=\"COLOR\">#000000</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"M+kYK;bd)jRMHHZZY-**\" x=\"1370\" y=\"-530\"><field name=\"NAME\">getPoolTempFromHA</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP GET pool temperature from Home Assistant</comment><statement name=\"STACK\"><block type=\"http_request\" id=\"/zYXaytm+h|qO=_}3C=y\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"Ci@Zd^:37}|J/_lVOJ-~\"><field name=\"TEXT\">http://HA_IP:8123/api/states/sensor.pool_temp</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\";fE$vLoSA/CExI%A_3*f\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"Zfug|)c+J5R=qT~X{,pR\"><value name=\"key\"><block type=\"text\" id=\"hf0w4g^cJK1y98FQ7CsD\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"X7VH(IUEY`wyYE[=nG_X\"><field name=\"TEXT\">application/json</field></block></value><next><block type=\"create_map_key\" id=\"$a?%{9v@tufjS~.6j~|I\"><value name=\"key\"><block type=\"text\" id=\"|Yxzy^nc@#Hxca`zsB(M\"><field name=\"TEXT\">Authorization</field></block></value><value name=\"value\"><block type=\"text\" id=\"X*byA)62!QZ6?Yu[+;C1\"><field name=\"TEXT\">Bearer {your_LLAT_from_Home_Assistant}</field></block></value></block></next></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"[91`U:z0-3dC=,}${8Hk\"></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"drT3cDiko3pt(vnU==:R\"><field name=\"VAR\" id=\"N!4D*hU+eloo(QKw.Wu$\">HApoolTemp</field><value name=\"VALUE\"><block type=\"loads_json\" id=\":vo_U:./GyX4UE6Rvm|X\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"TBzC3AZ$ST3F{Ma,v%cu\"></block></value></block></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"3ie9AWgT7I2i?ul^+01l\"><field name=\"COMPONENT\">label7</field><value name=\"TEXT\"><shadow type=\"text\" id=\"zdcR;Yr.0^ut`3VA%Xe{\"><field name=\"TEXT\">Error</field></shadow></value></block></statement><next><block type=\"variables_set\" id=\"V+,,%r=loc3w:De`^(Kr\"><field name=\"VAR\" id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"%BCHZ9Q=.=eF|B,Cbxk#\"><value name=\"key\"><block type=\"text\" id=\"jT8@he1FBa8?^(pFQKM7\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"+%KPWq;Rgi8Iu7*Hl0^0\"><field name=\"VAR\" id=\"N!4D*hU+eloo(QKw.Wu$\">HApoolTemp</field></block></value></block></value><next><block type=\"variables_set\" id=\"zQ|F8LV3TSD@mUf9Hn:0\"><field name=\"VAR\" id=\"SmT48$$|iJY35Ym*Cna(\">attributes</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"Jmc~vVGG+=YS7-ps6Rk(\"><value name=\"key\"><block type=\"text\" id=\"Ug3sw^sToODZz;C^3oKI\"><field name=\"TEXT\">attributes</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"{}SUsD3*^#|2io36CSBa\"><field name=\"VAR\" id=\"N!4D*hU+eloo(QKw.Wu$\">HApoolTemp</field></block></value></block></value><next><block type=\"variables_set\" id=\"M4W6K:6t+$y55Y=*!ElX\"><field name=\"VAR\" id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"Bc);SuL*RkcVi_x%XB2Z\"><value name=\"key\"><block type=\"text\" id=\"EYl0TR6*-9^U3.]TsnhA\"><field name=\"TEXT\">unit_of_measurement</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"787uJm9o~FiV{)vKh.9a\"><field name=\"VAR\" id=\"SmT48$$|iJY35Ym*Cna(\">attributes</field></block></value></block></value></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"qaCLVxI+PSFHS}UHe$+_\" x=\"2290\" y=\"-510\"><field name=\"NAME\">getWaterfallStateFromHA</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP GET the waterfall pump state from Home Assistant</comment><statement name=\"STACK\"><block type=\"http_request\" id=\"v%E=mrEIH---s`z1s.D1\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"Kk9:cVWd:fBEk|B#R7/e\"><field name=\"TEXT\">http://HA_IP:8123/api/states/switch.waterfall</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"d2eywmHL;@~j3XhP4zU0\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"jI.n-e|%2dl0/CJ~EqkM\"><value name=\"key\"><block type=\"text\" id=\";}Z|_SQ^cS=M$wd8g:mF\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"s=SWq7=+w_mclqr!fq|-\"><field name=\"TEXT\">application/json</field></block></value><next><block type=\"create_map_key\" id=\"p!4,.%9x/(O/C=gk;:yp\"><value name=\"key\"><block type=\"text\" id=\":xS[?TokbYS@uNAdFZ40\"><field name=\"TEXT\">Authorization</field></block></value><value name=\"value\"><block type=\"text\" id=\"Zzy`P#|XZ@Bka2lc-F^F\"><field name=\"TEXT\">Bearer {your_LLAT_from_Home_Assistant}</field></block></value></block></next></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"2nH3N@dT!_kOZbjoN]vW\"></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"6su(Bw#*zu46V:l0kaJC\"><field name=\"VAR\" id=\")~_ZM.MOoU?p]:Q}Uyq|\">HAwaterfallState</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"+7=J9*:q3z[}a(=F5pU-\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"K!V-SKP(4,W|e1^wc~LO\"></block></value></block></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"$t*BuyB8lxA^MK%,?j.{\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\" id=\"h5o7Kqia-.i*@7FiXG9*\"><field name=\"TEXT\">Error</field></shadow></value></block></statement><next><block type=\"variables_set\" id=\"|Lo9Xfq`KZBXT+b%![~[\"><field name=\"VAR\" id=\"wwJ`6v]hL6L0!~1*HJh4\">waterfallState</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"YuBAll*__@xt-]U;1$^D\"><value name=\"key\"><block type=\"text\" id=\")_y^/C!W[OzXvH(dqkP!\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"S2%sV`JaHAXRH7/S)N)Z\"><field name=\"VAR\" id=\")~_ZM.MOoU?p]:Q}Uyq|\">HAwaterfallState</field></block></value></block></value><next><block type=\"controls_if\" id=\"|U^uwDm|[Y`m}N7)5l3=\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"V*2WM%RA2mR)#QfbrRN*\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"jR#gxN1IkP%j=,ts8N4N\"><field name=\"VAR\" id=\"wwJ`6v]hL6L0!~1*HJh4\">waterfallState</field></block></value><value name=\"B\"><block type=\"text\" id=\"#Mq!8kR,0j9Fobx7`ljP\"><field name=\"TEXT\">on</field></block></value></block></value><statement name=\"DO0\"><block type=\"switch_set_on\" id=\"FGK;u$(Xd?#$/J!B{D,%\"><field name=\"COMPONENT\">waterfallSwitch</field></block></statement><statement name=\"ELSE\"><block type=\"switch_set_off\" id=\"8AMa;B|Q2{_tsckT:5K~\"><field name=\"COMPONENT\">waterfallSwitch</field></block></statement></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Z`NENRac2a;p(Qt3{Pq~\" x=\"890\" y=\"-90\"><field name=\"NAME\">darkMode</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function for setting dark mode</comment><statement name=\"STACK\"><block type=\"label_set_text\" id=\"G$[}%UvjN4v7~XsRExNI\"><field name=\"COMPONENT\">label4</field><value name=\"TEXT\"><shadow type=\"text\" id=\"U6+^2h*zC^F-!Rv!4=1l\"><field name=\"TEXT\">Dark Mode</field></shadow></value><next><block type=\"line_set_color\" id=\"F]C@%?+;X9+-]$5ft@Tf\"><field name=\"COMPONENT\">line0</field><field name=\"COLOR\">#666666</field><next><block type=\"line_set_color\" id=\"_D-/D)dVFq!LwZA6iFkK\"><field name=\"COMPONENT\">line1</field><field name=\"COLOR\">#666666</field><next><block type=\"screen_set_bgcolor\" id=\"/AHQ?_%QfZW~PYMU$xH7\"><field name=\"COLOR\">#333333</field><next><block type=\"label_set_color\" id=\"q#g/Tbrk8cK/6EfPDSpN\"><field name=\"COMPONENT\">label1</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"4f@Ub*.@Ul|ddl?mU%,u\"><field name=\"COMPONENT\">label2</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"xPQ)oeIX~;mwjIXIg4-]\"><field name=\"COMPONENT\">label4</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"aQ}DK*PoAh(w@|0No(XC\"><field name=\"COMPONENT\">label6</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"z@`S80(J*q[(52|?DqR5\"><field name=\"COMPONENT\">label7</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"(n8ZH4k:]zt2wyE{?j_r\"><field name=\"COMPONENT\">label10</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"lnKRM~hOJr0vO!C1)j)(\"><field name=\"COMPONENT\">label3</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"Q.5I^dA!wB^e#OkJg(+R\"><field name=\"COMPONENT\">label5</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"lRG[U1BZchM@(QCFUI-$\"><field name=\"COMPONENT\">label8</field><field name=\"COLOR\">#ffffff</field><next><block type=\"label_set_color\" id=\"qH[MXOYmgH=Us^*z^f,|\"><field name=\"COMPONENT\">label9</field><field name=\"COLOR\">#ffffff</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"bGm4K(}8sw7-KR.Bo.1%\" x=\"1370\" y=\"50\"><field name=\"NAME\">getAirTempFromHA</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP GET outside air temperature from Home Assistant</comment><statement name=\"STACK\"><block type=\"http_request\" id=\"CoUgXJRf0FamDpMz`jeh\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"~0{|FICmr{kke$o=)|[z\"><field name=\"TEXT\">http://HA_IP:8123/api/states/sensor.air_temp</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"S,O`(tzy+b|#6P8mk92p\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"S!;]-V|2O%6IrpTB}~Qq\"><value name=\"key\"><block type=\"text\" id=\"XTg}$!~VJKZaR3(@gWoy\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"0Y.O:Jwwv174xRr![p=Q\"><field name=\"TEXT\">application/json</field></block></value><next><block type=\"create_map_key\" id=\")3SO6O2B;eh=5KtlNAsv\"><value name=\"key\"><block type=\"text\" id=\"F.gycC/$:zUi*7*ph)*8\"><field name=\"TEXT\">Authorization</field></block></value><value name=\"value\"><block type=\"text\" id=\"Qc6I3Cxi/{~O]:89n{GT\"><field name=\"TEXT\">Bearer {your_LLAT_from_Home_Assistant}</field></block></value></block></next></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"Y8f:1(iIbvdHSay.dpxc\"></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"xfrvq5.3@(D?]q#R%=e3\"><field name=\"VAR\" id=\"=,Q^xZINJGLDkDO:Ob|d\">HAairTemp</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"q2KQCuU1H0=zg(3669.C\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"F1{MXH;fVQl43JTGo#6C\"></block></value></block></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"L`s^]t;MdGYqE)QGZndq\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\" id=\"-*`ldsUXdpFV3mnd`$NQ\"><field name=\"TEXT\">Error</field></shadow></value></block></statement><next><block type=\"variables_set\" id=\"yOH;Q9Org9CZNcp7QeaI\"><field name=\"VAR\" id=\"gtVAf1hPVxnC=EiV[vck\">airTemp</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"?HeeW(}tY7TC@zw(Ornj\"><value name=\"key\"><block type=\"text\" id=\"A8qv7]]A|ZQ.K#_7z{Vh\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"aPz1@h|Rv.LV{s$-EUNn\"><field name=\"VAR\" id=\"=,Q^xZINJGLDkDO:Ob|d\">HAairTemp</field></block></value></block></value></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"|[rx/Yh45m0Dd6d`H|m*\" x=\"2290\" y=\"110\"><field name=\"NAME\">getLightStateFromHA</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP GET the pool lights state from Home Assistant</comment><statement name=\"STACK\"><block type=\"http_request\" id=\",YSQ4.%g~fG%Fp4H4,=m\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"A8}!x!xP:Sbg!=vwr_bE\"><field name=\"TEXT\">http://HA_IP:8123/api/states/light.pool_light</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"mhzhETc6=ZyfU/(Av#NS\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"(Dc`=HmV}aMG.t(t!$).\"><value name=\"key\"><block type=\"text\" id=\"LPhcC?{3bC|r`g4q%,MQ\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"z0Lya6L*%e1K(n+ZwDi.\"><field name=\"TEXT\">application/json</field></block></value><next><block type=\"create_map_key\" id=\"@m!E#Iu9G/ImNdgqn4uG\"><value name=\"key\"><block type=\"text\" id=\"K+JVGy-n|$%-BZb,c*:]\"><field name=\"TEXT\">Authorization</field></block></value><value name=\"value\"><block type=\"text\" id=\"|-6;Eq+Xx/Yw|!4ET`=9\"><field name=\"TEXT\">Bearer {your_LLAT_from_Home_Assistant}</field></block></value></block></next></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"=$/]UnmSAb8`g`QXV0]7\"></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"PZ,?mC8ZaP$;Kei:M|D|\"><field name=\"VAR\" id=\"KH0b8wt~Hm@zqsWZ2XRt\">HAlightState</field><value name=\"VALUE\"><block type=\"loads_json\" id=\".c[:K+WzUcDrM~{@%g(H\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"xdeO4?jO:f#a$:Cz_N8a\"></block></value></block></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"|Qklo$89W(S;**36^z.t\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\" id=\"RUh-4Tb$ucA$F%F40Hp?\"><field name=\"TEXT\">Error</field></shadow></value></block></statement><next><block type=\"variables_set\" id=\"7[c[TGqdBL/JNc2{jVUD\"><field name=\"VAR\" id=\"M~g}:rMc?S0{?{yc:F!P\">lightState</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"#M^OZ)G{9^4$_)Fr1FXj\"><value name=\"key\"><block type=\"text\" id=\"4}nk]v4F_L63eA~~JXD0\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"14_Fcybqo`8*fiCZN(Cw\"><field name=\"VAR\" id=\"KH0b8wt~Hm@zqsWZ2XRt\">HAlightState</field></block></value></block></value><next><block type=\"controls_if\" id=\"7G7IH_sH~Yi]iURDzb:Y\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"W6sbsaY.H(t9{r22|7c`\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"d3*2$K=PJUlK@o/aOX=D\"><field name=\"VAR\" id=\"M~g}:rMc?S0{?{yc:F!P\">lightState</field></block></value><value name=\"B\"><block type=\"text\" id=\"64@1UpZn=*^atFZ/8hk|\"><field name=\"TEXT\">on</field></block></value></block></value><statement name=\"DO0\"><block type=\"switch_set_on\" id=\",vRJGt841z!(:eG.XfIl\"><field name=\"COMPONENT\">lightSwitch</field></block></statement><statement name=\"ELSE\"><block type=\"switch_set_off\" id=\"-q-=t5(d*Xz|z%_PQD4;\"><field name=\"COMPONENT\">lightSwitch</field></block></statement></block></next></block></next></block></statement></block><block type=\"switch_set_cb\" id=\"HK@~tn=CF|)DWPF#f~cV\" x=\"890\" y=\"370\"><field name=\"COMPONENT\">modeSwitch</field><field name=\"EVENT\">on</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"raJ]VP#{e(vP+/^_yw=H\"><mutation name=\"darkMode\"></mutation></block></statement></block><block type=\"switch_set_cb\" id=\"5s!#3`H)Yh(JYh;+W21$\" x=\"890\" y=\"450\"><field name=\"COMPONENT\">modeSwitch</field><field name=\"EVENT\">off</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\":YbwZlt4(qARLf5A5Q:R\"><mutation name=\"lightMode\"></mutation></block></statement></block><block type=\"switch_set_cb\" id=\"=cEcu4YmE}mHKQd*)l.K\" x=\"890\" y=\"530\"><field name=\"COMPONENT\">waterfallSwitch</field><field name=\"EVENT\">on</field><statement name=\"FUNC\"><block type=\"mqtt_publish\" id=\"}ryn]2:va+tGb+:u`-yY\"><value name=\"FROM\"><shadow type=\"text\" id=\"2=Ypg^A3`eS~gOcRm?f*\"><field name=\"TEXT\">pool/waterfalls</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"zo?B.g!s:H)l2.Ou7_rT\"><field name=\"TEXT\">on</field></shadow></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"Me@,Wzf|%yi]^/x7$VRe\" x=\"1370\" y=\"550\"><field name=\"NAME\">getPumpStateFromHA</field><comment pinned=\"false\" h=\"80\" w=\"160\">HTTP GET the pool pump state from Home Assistant</comment><statement name=\"STACK\"><block type=\"http_request\" id=\"W3G$v7:lqW.@FzN9q|t{\"><field name=\"method\">GET</field><value name=\"url\"><shadow type=\"text\" id=\"3w-rHPX^_TJa;Fnm0)j~\"><field name=\"TEXT\">http://HA_IP:8123/api/states/switch.pool_pump</field></shadow></value><value name=\"headers\"><block type=\"map_on_loop\" id=\"|Kc9.Ul7EL_QnsVkZI;@\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"(PCy?jkybkp*xiaF#3pk\"><value name=\"key\"><block type=\"text\" id=\"hda5%PWN[2XU!1={5nTM\"><field name=\"TEXT\">Content-Type</field></block></value><value name=\"value\"><block type=\"text\" id=\"dH?ZHP203{3H/s2oN+*W\"><field name=\"TEXT\">application/json</field></block></value><next><block type=\"create_map_key\" id=\"3gpI-EjPgB(*_j56O?:4\"><value name=\"key\"><block type=\"text\" id=\"{^r[-kKa:K,eNq_V;s@D\"><field name=\"TEXT\">Authorization</field></block></value><value name=\"value\"><block type=\"text\" id=\"j#xe`^D-}kL9_lSO%|?S\"><field name=\"TEXT\">Bearer {your_LLAT_from_Home_Assistant}</field></block></value></block></next></block></statement></block></value><value name=\"data\"><block type=\"map_on_loop\" id=\"5bH%)H`-cL,as~8g/3]=\"></block></value><statement name=\"success\"><block type=\"variables_set\" id=\"HoS,6Ik$EcGP-xMxVJ]t\"><field name=\"VAR\" id=\"eAJp$%D,H,TIxU3$}1R*\">HApumpState</field><value name=\"VALUE\"><block type=\"loads_json\" id=\"k[kz7?DEBoJ44u96pGW%\"><value name=\"JSON_VAR\"><block type=\"get_data\" id=\"z9jy$ObJ6:zmYm8C;+27\"></block></value></block></value></block></statement><statement name=\"fail\"><block type=\"label_set_text\" id=\"*x3jVHOU0[sifdn09hME\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\" id=\"[VLhuS]Pn~9$qDC5=VF}\"><field name=\"TEXT\">Error</field></shadow></value></block></statement><next><block type=\"variables_set\" id=\"tamTg8$,*rlnBd4ZD]IJ\"><field name=\"VAR\" id=\"oY285Ea~$rY9Sp}{6T,D\">pumpState</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"N]%ZsxO36AE=767G5~l$\"><value name=\"key\"><block type=\"text\" id=\"_o!pOfE=IQAAhAZR{rHU\"><field name=\"TEXT\">state</field></block></value><value name=\"map\"><block type=\"variables_get\" id=\"b4D1W~0[aGP])MVHrdTk\"><field name=\"VAR\" id=\"eAJp$%D,H,TIxU3$}1R*\">HApumpState</field></block></value></block></value><next><block type=\"controls_if\" id=\")2f!N%n@K|ZB]M*C$gJa\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"Bj`e#@`Sw+f]UYBn6MK7\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"TH{~i$LE0NAW,TtxLTto\"><field name=\"VAR\" id=\"oY285Ea~$rY9Sp}{6T,D\">pumpState</field></block></value><value name=\"B\"><block type=\"text\" id=\"2EX%O%p(pEd:IS];.=~@\"><field name=\"TEXT\">on</field></block></value></block></value><statement name=\"DO0\"><block type=\"switch_set_on\" id=\".A8nfblIr#?JT4cwP78g\"><field name=\"COMPONENT\">pumpSwitch</field></block></statement><statement name=\"ELSE\"><block type=\"switch_set_off\" id=\"NRX,(z/h9kIep(V]w$A3\"><field name=\"COMPONENT\">pumpSwitch</field></block></statement></block></next></block></next></block></statement></block><block type=\"timer_callback\" id=\"f{;PddJi7TxVd{uI^[7z\" x=\"50\" y=\"630\"><field name=\"name\">updateDisplay</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"/_.j-eC{p]Yc)CIjC!TU\"><mutation name=\"displayTime\"></mutation><next><block type=\"label_set_text\" id=\"FTWIy(g)]xCsw9(adCmD\"><field name=\"COMPONENT\">label6</field><value name=\"TEXT\"><shadow type=\"text\" id=\"m,HbzkPMXC7(E21nVdb0\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"j]7s0]y?hm]{4?Db.=v9\"><value name=\"arg0\"><shadow type=\"text\" id=\"Lbj4I^S~n$w%$Z1CW(CB\"><field name=\"TEXT\">Battery (V): </field></shadow></value><value name=\"arg1\"><block type=\"text_math_split\" id=\"|,zKAsT~#ISJZ,aCrE1I\"><value name=\"arg0\"><block type=\"power_get_bat_voltage\" id=\"%;1#Xhuy+LN[Yf)_HIz~\"></block></value><value name=\"arg1\"><shadow type=\"math_number\" id=\"9F{GQ]J)H$uhN$}E/dHt\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"!v#frW*wzZG:8_m28s#l\"><mutation name=\"getPoolTempFromHA\"></mutation><next><block type=\"timer_delay\" id=\"DZfih~NNqUvBTMFD%koW\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"y~*lUFO]Tk_5ks8RmVW4\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"`uRN7DC}?74JRBpWN8|k\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"xPZ{GQX~ZN/BZ{;fAO*U\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"Y,hVt1B:GFAxAP0oO,hv\"><field name=\"VAR\" id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</field></block></value><value name=\"B\"><block type=\"text\" id=\"i]@|udQxOoFP+nDZsX5(\"><field name=\"TEXT\">unknown</field></block></value></block></value><statement name=\"DO0\"><block type=\"label_set_text\" id=\"C_r/9_4va-u^[lz9]Yz`\"><field name=\"COMPONENT\">label7</field><value name=\"TEXT\"><shadow type=\"text\" id=\";b,,ZHz!BoS_!9:25/j#\"><field name=\"TEXT\">off</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\":^_gy~L!l*Uu)Rf#--rT\"><field name=\"COMPONENT\">label7</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"BJHcrvzS2hnGF}Uc_],]\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\">TBD</field></shadow><block type=\"variables_get\" id=\"HdI3pO1SEa;7ZdTHHGZ(\"><field name=\"VAR\" id=\"]#V,i4SeL#FYR=9]XOL2\">poolTemp</field></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"`^E?i`;2~,Ip,f3Z54B$\"><field name=\"VAR\" id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</field></block></value></block></value></block></statement><next><block type=\"procedures_callnoreturn\" id=\"9W7nm+.J?@+DElk7~DgK\"><mutation name=\"getAirTempFromHA\"></mutation><next><block type=\"timer_delay\" id=\"5o,1v)en86q4ypb5KzZl\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"]z$6t#@H()IfPM2LOOoQ\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"label_set_text\" id=\"ivK%o{fw{@9IC?Mh0UeH\"><field name=\"COMPONENT\">label5</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"^)uLgKfncrk{WMED;V@U\"><value name=\"arg0\"><shadow type=\"text\"><field name=\"TEXT\">TBD</field></shadow><block type=\"variables_get\" id=\"#k|S`G;q%B~G;b;$1L,s\"><field name=\"VAR\" id=\"gtVAf1hPVxnC=EiV[vck\">airTemp</field></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"T1!f;d3e!?XZ1mo^@X,^\"><field name=\"VAR\" id=\"r)+`vp]Vo#.}H)u4Ga=q\">temperatureUnit</field></block></value></block></value><next><block type=\"procedures_callnoreturn\" id=\"`{hi5fnqUC(W|9BG,7Yy\"><mutation name=\"getPumpStateFromHA\"></mutation><next><block type=\"timer_delay\" id=\"W5h1ic3u#NG3cU,Pbzz[\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"-{UG8GSS0)6gMRslh%xe\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\".}aEly|.o5*::M:RHNj`\"><mutation name=\"getLightStateFromHA\"></mutation><next><block type=\"timer_delay\" id=\"73W)zzaIAOm?D?;6yZ|4\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"[D4G*e;yC.-3HV{o3+j@\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"$!|K-M/VOd2d]-@$m1:-\"><mutation name=\"getWaterfallStateFromHA\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"switch_set_cb\" id=\"a5#XkNqnh5n[^(?B[IIH\" x=\"890\" y=\"630\"><field name=\"COMPONENT\">waterfallSwitch</field><field name=\"EVENT\">off</field><statement name=\"FUNC\"><block type=\"mqtt_publish\" id=\"z;==$eI;7v8lANn0i/U$\"><value name=\"FROM\"><shadow type=\"text\" id=\"*g7yS|)tFpyUF]1?efNG\"><field name=\"TEXT\">pool/waterfalls</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"rQ!j:ydVhvI$fEO8SHAS\"><field name=\"TEXT\">off</field></shadow></value></block></statement></block><block type=\"switch_set_cb\" id=\";B9j1OKoMJIJne9_#?5*\" x=\"890\" y=\"730\"><field name=\"COMPONENT\">lightSwitch</field><field name=\"EVENT\">on</field><statement name=\"FUNC\"><block type=\"mqtt_publish\" id=\"hiU#IT7boBLhdpo5Dgc(\"><value name=\"FROM\"><shadow type=\"text\" id=\"34!F#6|h/C?*%s;*0zTi\"><field name=\"TEXT\">pool/lights</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"/0WGJ9D!p79EiM#~4AFq\"><field name=\"TEXT\">on</field></shadow></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"b{Hk^_|lOICS4HEtlgR`\" x=\"2290\" y=\"730\"><field name=\"NAME\">displayTime</field><comment pinned=\"false\" h=\"80\" w=\"160\">Format the time</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"d|IIIeL8oPs{v4_;N7?s\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"ePbGy$iO|qr!*s/pJ9*6\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"rtc_set_client_hous\" id=\"4|iCG!?G|qI;oP?yC`l/\"></block></value><value name=\"B\"><block type=\"math_number\" id=\"u$^j^Og}18I*D_M!=eS,\"><field name=\"NUM\">12</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"S[=VYR-rFtxaNet0nLmV\"><field name=\"VAR\" id=\"gYw%an62DrLzU/?:[Ox*\">hour</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\"9}a%gt3*SS;G3?=?g8[x\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"rtc_set_client_hous\" id=\",#/9tJzRIzc[Eb$2zV$w\"></block></value><value name=\"B\"><block type=\"math_number\" id=\"`;J+Y:fm5;*K@osp=;Oq\"><field name=\"NUM\">12</field></block></value></block></value><next><block type=\"variables_set\" id=\"wPoSxVtj0Bh~a;UVRDo{\"><field name=\"VAR\" id=\"_wc?(cdyNXFry[yH4Mdg\">am_pm</field><value name=\"VALUE\"><block type=\"text\" id=\"@-ovX;1bqrDx#Ho6pr3[\"><field name=\"TEXT\">pm</field></block></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"?F$F{Lz}+)q6-9UsQ2b;\"><field name=\"VAR\" id=\"gYw%an62DrLzU/?:[Ox*\">hour</field><value name=\"VALUE\"><block type=\"rtc_set_client_hous\" id=\"Qi,!$i_%ZxahUH9pOvgi\"></block></value><next><block type=\"variables_set\" id=\"vYQ:||mGV+;kR8-7AlI`\"><field name=\"VAR\" id=\"_wc?(cdyNXFry[yH4Mdg\">am_pm</field><value name=\"VALUE\"><block type=\"text\" id=\"Puya+h0q6yc{6Ah9mC?B\"><field name=\"TEXT\">am</field></block></value></block></next></block></statement><next><block type=\"controls_if\" id=\"hkAJVg+#wjx6?-j9:w[B\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"8[hZutFCsP%LoE7f;TV2\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"rtc_set_client_minute\" id=\"%$]GeaH9=_-=FbcMileH\"></block></value><value name=\"B\"><block type=\"math_number\" id=\")dSQcT[hgqP`XnIk?Wn*\"><field name=\"NUM\">10</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"6?L9/l9cN$AVMGvcl.sr\"><field name=\"VAR\" id=\"!Lvh(,)RVHg=7`ii!$=1\">minute</field><value name=\"VALUE\"><block type=\"text_add\" id=\"e.}0HXb6`Qi5d-CXOpI]\"><value name=\"arg0\"><shadow type=\"text\" id=\"g,Cz+#7A7_UJ?cSt1XGH\"><field name=\"TEXT\">0</field></shadow></value><value name=\"arg1\"><block type=\"rtc_set_client_minute\" id=\"Yu?{Y95RV+Q$du]^S.2^\"></block></value></block></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"TlQ`k8F?d|rZf}{i+32h\"><field name=\"VAR\" id=\"!Lvh(,)RVHg=7`ii!$=1\">minute</field><value name=\"VALUE\"><block type=\"rtc_set_client_minute\" id=\"}UfF-S0pLWj,u/*C2n~c\"></block></value></block></statement><next><block type=\"label_set_text\" id=\"*gT?Lr3}rk[o5~cUj{`@\"><field name=\"COMPONENT\">label9</field><value name=\"TEXT\"><shadow type=\"text\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"text_add\" id=\"z=Y?SU$goNAp]pPmZdhz\"><value name=\"arg0\"><shadow type=\"text\" id=\"U7~fn#8y#21~~)z/QV%;\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"bqr~weozKcsV}h{:YOir\"><field name=\"VAR\" id=\"gYw%an62DrLzU/?:[Ox*\">hour</field></block></value><value name=\"arg1\"><block type=\"text_add\" id=\".#`ool0UiDt|=PQK5HB`\"><value name=\"arg0\"><shadow type=\"text\" id=\"qS1AAKX-TKc|m|;=/mMl\"><field name=\"TEXT\">:</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\";/ei!P+78*qzKv-#^RJF\"><value name=\"arg0\"><shadow type=\"text\" id=\"K9-_?*H*/,Bo;Je;9SRg\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\")=r8jT:S|kX;d8@r}`R%\"><field name=\"VAR\" id=\"!Lvh(,)RVHg=7`ii!$=1\">minute</field></block></value><value name=\"arg1\"><block type=\"variables_get\" id=\"4$}=OFl!kU40jO5?FGMG\"><field name=\"VAR\" id=\"_wc?(cdyNXFry[yH4Mdg\">am_pm</field></block></value></block></value></block></value></block></value></block></next></block></next></block></statement></block><block type=\"switch_set_cb\" id=\"@}qNRqw/@-AguYh`h*3^\" x=\"890\" y=\"830\"><field name=\"COMPONENT\">lightSwitch</field><field name=\"EVENT\">off</field><statement name=\"FUNC\"><block type=\"mqtt_publish\" id=\"ti1S/Zfu[Wz6r~275%06\"><value name=\"FROM\"><shadow type=\"text\" id=\"}[xab@E!/UzSf4EHGvNm\"><field name=\"TEXT\">pool/lights</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"%k?|@Cc$=~l6_^w*Je3W\"><field name=\"TEXT\">off</field></shadow></value></block></statement></block>","Blockly.Remotes":[],"modules":["imu"]}